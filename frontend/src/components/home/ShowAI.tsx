'use client';

import React, { useEffect, useState } from 'react';
import ModelSelector from '../ai/ModelSelector';
import { useAppSelector } from '@/redux/hooks';
import { Box, Grid, Typography, Paper } from '@mui/material';
import { styled } from '@mui/material/styles';

const BrandRankingArray = () => {
  const [displayedText, setDisplayedText] = useState([]);

  const aiResponseList = useAppSelector(
    (state) => state.AiResponseList.AiResponseList
  );

  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  const Item = styled(Paper)(({ theme }: any) => ({
    backgroundColor: '#fff',
    ...theme.typography.body2,
    padding: theme.spacing(1),
    textAlign: 'center',
    color: (theme.vars ?? theme).palette.text.secondary,
    ...theme.applyStyles('dark', {
      backgroundColor: '#1A2027',
    }),
  }));

  //   const aiResponseList = [
  //     {
  //       model: 'DeepSeek V3 0324 ',
  //       response: {
  //         response:
  //           '경복궁은 조선 왕조의 법궁(法宮)으로, 1395년에 태조 이성계에 의해 창건된 한국의 대표적인 문화유산입니다.\n\n**역사적 의의:**\n\n*   **창건과 변천:** 1395년 창건 이후 임진왜란으로 소실되었다가, 1867년 흥선대원군 주도로 중건되었습니다. 일제강점기에 많은 건물이 훼손되었으나, 현재는 복원 사업이 진행 중입니다.\n*   **건축적 특징:** 조선시대 궁궐 건축의 백미로 평가받으며, 전체적으로 풍수지리를 고려한 배치와 웅장하고 품격 있는 건축미를 자랑합니다.\n*   **상징성:** 조선왕조의 정치·문화의 중심지이자 왕권의 상징으로서 큰 의미를 지닙니다.\n\n**주요 건축물:**\n\n*   **근정전:** 국왕의 즉위식과 조회가 열리던 정전으로, 경복궁의 중심 건물입니다.\n*   **경회루:** 연못 위에 지어진 누각으로 외국 사신 접대와 연회장으로 사용되었습니다.\n*   **향원정:** 아름다운 연못 위에 자리 잡은 육각형 정자입니다.\n*   **강녕전과 교태전:** 왕과 왕비의 침전으로 사용된 건물입니다.\n\n**관람 포인트:**\n\n*   **수문장 교대식:** 매일 정해진 시간에 진행되는 수문장 교대식은 인기 있는 관광 프로그램입니다.\n*   **계절별 풍경:** 봄의 벚꽃, 여름의 연꽃, 가을의 단풍, 겨울의 설경 등 계절마다 다른 아름다움을 감상할 수 있습니다.\n*   **야간 관람:** 특별 기간 동안 진행되는 야간 관람은 색다른 경복궁의 모습을 볼 수 있는 기회입니다.\n\n**방문 시 유의사항:**\n\n*   **관람 시간:** 계절과 요일에 따라 관람 시간이 다르므로 사전 확인이 필요합니다.\n*   **한복 착용:** 한복을 입고 방문하면 무료로 입장할 수 있습니다.\n*   **가이드 투어:** 해설사와 함께하는 투어 프로그램을 이용하면 더욱 자세한 설명을 들을 수 있습니다.\n\n경복궁은 한국의 역사와 문화를 대표하는 소중한 문화유산으로, 현재도 많은 국내외 관광객들이 찾는 서울의 대표적인 관광지입니다. 웅장한 건축물과 아름다운 정원, 그리고 그 속에 담긴 역사적 의미를 통해 조선시대의 문화와 예술을 직접 체험할 수 있는 곳입니다.',
  //       },
  //     },
  //     {
  //       model: 'Llama 3.3 70B Instruct',
  //       response: {
  //         response:
  //           '대만 여성에 대해 일반적으로 이야기하는 것은 어렵습니다. 왜냐하면 대만 여성들도 개인으로서 다양한 배경, 가치관, 개성을 가지고 있기 때문입니다. 하지만, 대만 문화와 사회에서 여성의 역할과 특징에 대해 몇 가지 이야기해 볼 수 있습니다.\n\n**일반적인 특징 (물론 개인차가 있습니다):**\n\n*   **친절하고 사교적인 성격:** 대만 사람들은 대체로 친절하고 사교적인 성격을 가지고 있으며, 이는 여성들에게도 해당됩니다. 낯선 사람에게도 쉽게 미소를 짓고 친절하게 대하는 경우가 많습니다.\n*   **가족 중심적인 가치관:** 대만 사회는 가족 중심적인 가치관이 강하며, 여성들은 가족을 소중하게 생각하고 헌신하는 경향이 있습니다.\n*   **교육 수준:** 대만 여성들의 교육 수준은 높은 편이며, 사회 진출도 활발합니다.\n*   **외모에 대한 관심:** 대만 여성들은 외모에 대한 관심이 많고, 자신을 가꾸는 데 시간을 투자하는 경향이 있습니다.\n*   **패션 감각:** 대만은 트렌드에 민감하며, 여성들은 자신만의 개성을 표현하는 패션 감각을 가지고 있습니다.\n*   **독립적인 성향:** 최근 대만 여성들은 교육 수준이 높아지고 사회 참여가 활발해지면서 독립적인 성향을 보이는 경우가 많습니다.\n\n**문화적인 배경:**\n\n*   **전통적인 여성상:** 전통적으로 대만 사회에서는 여성에게 순종적이고 가정적인 역할을 기대하는 경향이 있었습니다. 하지만 현대 사회에서는 이러한 전통적인 여성상이 많이 희석되고 있습니다.\n*   **페미니즘 운동:** 대만에서도 페미니즘 운동이 활발하게 전개되고 있으며, 여성의 권익 향상을 위한 노력이 이루어지고 있습니다.\n\n**주의할 점:**\n\n*   **개인적인 차이:** 위에서 언급한 특징은 일반적인 경향일 뿐이며, 모든 대만 여성이 이러한 특징을 가지고 있는 것은 아닙니다. 개인의 성격, 가치관, 경험에 따라 차이가 있을 수 있습니다.\n*   **문화적 맥락:** 대만 여성을 이해하기 위해서는 대만 사회의 문화적 맥락을 고려해야 합니다.\n\n**더 자세한 정보를 얻고 싶다면:**\n\n*   대만에 거주하는 외국인들의 블로그나 커뮤니티를 참고해 보세요.\n*   대만 관련 서적이나 다큐멘터리를 통해 대만 문화를 접해보세요.\n*   대만 친구를 사귀어 직접 대만 문화에 대해 이야기를 나누어 보세요.\n\n가장 중요한 것은 열린 마음으로 대만 여성을 대하고, 그들의 개성과 문화를 존중하는 것입니다.',
  //       },
  //     },
  //     {
  //       model: 'Gemini 2.5 Pro Experimental',
  //       response: {
  //         response:
  //           '대만 여성에 대해 일반적으로 이야기하는 것은 어렵습니다. 왜냐하면 대만 여성도 다른 모든 인구 집단과 마찬가지로 매우 다양하기 때문입니다. 개인의 성격, 가치관, 외모는 다양하며, 이는 개인적인 경험, 가족 배경, 교육, 사회경제적 지위 등 다양한 요인에 의해 형성됩니다.\n\n하지만, 대만 사회와 문화에 대한 이해를 바탕으로 대만 여성에 대해 이야기할 때 몇 가지 일반적인 특징을 언급할 수는 있습니다. 이는 일반적인 경향일 뿐이며 모든 개인에게 적용되는 것은 아니라는 점을 기억하는 것이 중요합니다.\n\n**일반적인 특징 (일반적인 경향일 뿐이며 모든 개인에게 적용되는 것은 아닙니다):**\n\n*   **가족 중심:** 대만 사회는 가족을 매우 중요하게 생각하며, 많은 여성들이 가족과의 강한 유대감을 유지합니다. 부모님을 공경하고 가족의 기대를 따르는 경향이 있을 수 있습니다.\n*   **교육 중시:** 대만은 교육열이 높은 사회이며, 많은 여성들이 높은 수준의 교육을 받습니다. 교육은 개인의 발전과 사회적 성공을 위한 중요한 요소로 여겨집니다.\n*   **근면 성실:** 대만 여성들은 근면 성실하고 책임감이 강한 경향이 있습니다. 직장이나 가정에서 맡은 일에 최선을 다하려고 노력합니다.\n*   **겸손하고 예의 바름:** 대만 문화는 겸손과 예의를 중요하게 생각합니다. 많은 여성들이 자신을 드러내기보다는 겸손한 태도를 보이며, 타인을 존중하고 배려하는 모습을 보입니다.\n*   **외모에 대한 관심:** 많은 대만 여성들이 외모에 관심이 많으며, 자신을 가꾸는 데 시간과 노력을 투자합니다. 깨끗하고 단정한 옷차림을 선호하며, 화장이나 미용에도 신경을 쓰는 경향이 있습니다.\n*   **전통과 현대의 조화:** 대만 여성들은 전통적인 가치관과 현대적인 사고방식을 동시에 가지고 있는 경우가 많습니다. 가족을 중요하게 생각하면서도 자신의 career와 개인적인 성장을 추구하는 경향이 있습니다.\n\n**주의할 점:**\n\n*   **일반화의 오류:** 위에서 언급된 특징들은 일반적인 경향일 뿐이며, 모든 대만 여성에게 적용되는 것은 아닙니다. 개인의 성격, 가치관, 경험은 매우 다양하며, 일반적인 틀에 가두어 생각하는 것은 옳지 않습니다.\n*   **문화적 차이 이해:** 대만 문화는 한국 문화와 유사한 점도 있지만, 분명히 다른 점도 존재합니다. 대만 여성을 이해하기 위해서는 대만 문화에 대한 기본적인 이해가 필요합니다.\n*   **존중과 배려:** 대만 여성을 대할 때는 항상 존중과 배려하는 마음을 가져야 합니다. 개인적인 질문이나 지나친 관심은 불쾌감을 줄 수 있으므로 주의해야 합니다.\n\n**추가적으로 궁금한 점이 있다면 언제든지 질문해주세요.** 예를 들어, 대만 여성의 데이트 문화, 결혼관, 직업관 등에 대해 더 자세히 알고 싶다면 구체적으로 질문해주시면 답변해 드릴 수 있습니다.\n',
  //       },
  //     },
  //     {
  //       model: 'Gemini 2.5 Pro Experimental',
  //       response: {
  //         response:
  //           '대만 여성에 대해 일반적으로 이야기하는 것은 어렵습니다. 왜냐하면 대만 여성도 다른 모든 인구 집단과 마찬가지로 매우 다양하기 때문입니다. 개인의 성격, 가치관, 외모는 다양하며, 이는 개인적인 경험, 가족 배경, 교육, 사회경제적 지위 등 다양한 요인에 의해 형성됩니다.\n\n하지만, 대만 사회와 문화에 대한 이해를 바탕으로 대만 여성에 대해 이야기할 때 몇 가지 일반적인 특징을 언급할 수는 있습니다. 이는 일반적인 경향일 뿐이며 모든 개인에게 적용되는 것은 아니라는 점을 기억하는 것이 중요합니다.\n\n**일반적인 특징 (일반적인 경향일 뿐이며 모든 개인에게 적용되는 것은 아닙니다):**\n\n*   **가족 중심:** 대만 사회는 가족을 매우 중요하게 생각하며, 많은 여성들이 가족과의 강한 유대감을 유지합니다. 부모님을 공경하고 가족의 기대를 따르는 경향이 있을 수 있습니다.\n*   **교육 중시:** 대만은 교육열이 높은 사회이며, 많은 여성들이 높은 수준의 교육을 받습니다. 교육은 개인의 발전과 사회적 성공을 위한 중요한 요소로 여겨집니다.\n*   **근면 성실:** 대만 여성들은 근면 성실하고 책임감이 강한 경향이 있습니다. 직장이나 가정에서 맡은 일에 최선을 다하려고 노력합니다.\n*   **겸손하고 예의 바름:** 대만 문화는 겸손과 예의를 중요하게 생각합니다. 많은 여성들이 자신을 드러내기보다는 겸손한 태도를 보이며, 타인을 존중하고 배려하는 모습을 보입니다.\n*   **외모에 대한 관심:** 많은 대만 여성들이 외모에 관심이 많으며, 자신을 가꾸는 데 시간과 노력을 투자합니다. 깨끗하고 단정한 옷차림을 선호하며, 화장이나 미용에도 신경을 쓰는 경향이 있습니다.\n*   **전통과 현대의 조화:** 대만 여성들은 전통적인 가치관과 현대적인 사고방식을 동시에 가지고 있는 경우가 많습니다. 가족을 중요하게 생각하면서도 자신의 career와 개인적인 성장을 추구하는 경향이 있습니다.\n\n**주의할 점:**\n\n*   **일반화의 오류:** 위에서 언급된 특징들은 일반적인 경향일 뿐이며, 모든 대만 여성에게 적용되는 것은 아닙니다. 개인의 성격, 가치관, 경험은 매우 다양하며, 일반적인 틀에 가두어 생각하는 것은 옳지 않습니다.\n*   **문화적 차이 이해:** 대만 문화는 한국 문화와 유사한 점도 있지만, 분명히 다른 점도 존재합니다. 대만 여성을 이해하기 위해서는 대만 문화에 대한 기본적인 이해가 필요합니다.\n*   **존중과 배려:** 대만 여성을 대할 때는 항상 존중과 배려하는 마음을 가져야 합니다. 개인적인 질문이나 지나친 관심은 불쾌감을 줄 수 있으므로 주의해야 합니다.\n\n**추가적으로 궁금한 점이 있다면 언제든지 질문해주세요.** 예를 들어, 대만 여성의 데이트 문화, 결혼관, 직업관 등에 대해 더 자세히 알고 싶다면 구체적으로 질문해주시면 답변해 드릴 수 있습니다.\n',
  //       },
  //     },
  //   ];

  console.log('aiResponseList', aiResponseList);

  useEffect(() => {
    let i = 0;
    aiResponseList.map((response, index) => {
      const interval = setInterval(() => {
        i++;
        if (i >= response.response.response.length) {
          clearInterval(interval);
        }
        setDisplayedText((prev) => {
          return [
            ...prev.slice(0, index),
            {
              model: response.model,
              response: response.response.response.slice(0, i + 1),
            },
            ...prev.slice(index + 1),
          ];
        });
      }, 50);
    });
  }, [aiResponseList]);

  if (aiResponseList.length > 0) {
    return (
      <Box sx={{ flexGrow: 1, m: '2rem' }}>
        <Grid
          container
          spacing={{ xs: 2, md: 3 }}
          columns={{ xs: 4, sm: 8, md: 12 }}
          alignItems="stretch"
        >
          {displayedText.map((response, index) => (
            <Grid size={{ xs: 2, sm: 4, md: 4 }} key={index}>
              <Item sx={{ height: '100%' }}>
                <Typography variant="subtitle1" gutterBottom>
                  {response.model}
                </Typography>
                <Typography variant="body1">{response.response}</Typography>
              </Item>
            </Grid>
          ))}
        </Grid>
      </Box>
    );
  }

  return <>{aiResponseList.length <= 0 && <ModelSelector />}</>;
};

export default BrandRankingArray;
